const insults = [
    "Ø£Ù†Øª Ù…Ø«Ù„ Ø§Ù„Ø³Ø­Ø§Ø¨Ø©ØŒ Ø¹Ù†Ø¯Ù…Ø§ ØªØ®ØªÙÙŠ ÙŠØµØ¨Ø­ Ø§Ù„ÙŠÙˆÙ… Ø¬Ù…ÙŠÙ„Ø§Ù‹!",
    "ØªØ¬Ù„Ø¨ Ø§Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙƒØ«ÙŠØ± Ù…Ù† Ø§Ù„ÙØ±Ø­ Ø¹Ù†Ø¯Ù…Ø§ ØªØºØ§Ø¯Ø± Ø§Ù„ØºØ±ÙØ©!",
    "Ø³Ø£ÙˆØ§ÙÙ‚ Ù…Ø¹ÙƒØŒ ÙˆÙ„ÙƒÙ† Ø¨Ø¹Ø¯Ù‡Ø§ Ø³Ù†ÙƒÙˆÙ† ÙƒÙ„Ø§Ù†Ø§ Ù…Ø®Ø·Ø¦Ø§Ù‹!",
    "Ø£Ù†Øª Ù„Ø³Øª ØºØ¨ÙŠØ§Ù‹ØŒ Ù„Ø¯ÙŠÙƒ ÙÙ‚Ø· Ø­Ø¸ Ø³ÙŠØ¡ ÙÙŠ Ø§Ù„ØªÙÙƒÙŠØ±!",
    "Ø£Ø³Ø±Ø§Ø±Ùƒ Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ø¢Ù…Ù†Ø© Ù…Ø¹ÙŠØŒ Ø£Ù†Ø§ Ù„Ø§ Ø£Ø³ØªÙ…Ø¹ Ø¥Ù„ÙŠÙ‡Ø§ Ø£Ø¨Ø¯Ø§Ù‹!",
    "Ø£Ù†Øª Ø¯Ù„ÙŠÙ„ Ø£Ù† Ø­ØªÙ‰ Ø§Ù„ØªØ·ÙˆØ± ÙŠØ£Ø®Ø° Ø§Ø³ØªØ±Ø§Ø­Ø© Ø£Ø­ÙŠØ§Ù†Ø§Ù‹!",
    "Ù„Ø¯ÙŠÙƒ Ø´ÙŠØ¡ Ø¹Ù„Ù‰ Ø°Ù‚Ù†Ùƒ... Ù„Ø§ØŒ Ø§Ù„Ø«Ø§Ù„Ø« Ù…Ù† Ø§Ù„Ø£Ø³ÙÙ„!",
    "Ø£Ù†Øª Ù…Ø«Ù„ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ØŒ Ø¹Ù†Ø¯Ù…Ø§ Ø£Ø±Ø§Ùƒ Ø£ÙÙƒØ±ØŒ 'Ù‡Ù„ Ø£Ø­ØªØ§Ø¬ Ù‡Ø°Ø§ Ø­Ù‚Ø§Ù‹ Ø§Ù„Ø¢Ù†ØŸ'",
    "Ø£Ù†Øª Ù…Ø«Ù„ Ø¨Ù†Ø³ - Ø°Ùˆ ÙˆØ¬Ù‡ÙŠÙ† ÙˆÙ„Ø§ ÙŠØ³Ø§ÙˆÙŠ Ø§Ù„ÙƒØ«ÙŠØ±!",
    "Ø£Ù†Øª Ø³Ø¨Ø¨ ÙˆØ¶Ø¹ Ø§Ù„ØªØ¹Ù„ÙŠÙ…Ø§Øª Ø¹Ù„Ù‰ Ø²Ø¬Ø§Ø¬Ø§Øª Ø§Ù„Ø´Ø§Ù…Ø¨Ùˆ!",
    "Ù†ÙƒØ§ØªÙƒ Ù…Ø«Ù„ Ø§Ù„Ø­Ù„ÙŠØ¨ Ø§Ù„Ù…Ù†ØªÙ‡ÙŠ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ© - Ø­Ø§Ù…Ø¶Ø© ÙˆØµØ¹Ø¨Ø© Ø§Ù„Ù‡Ø¶Ù…!",
    "Ø£Ù†Øª Ù…Ø«Ù„ Ø¥Ø´Ø§Ø±Ø© Ø§Ù„ÙˆØ§ÙŠ ÙØ§ÙŠ - Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ø¶Ø¹ÙŠÙØ© Ø¹Ù†Ø¯Ù…Ø§ ØªÙƒÙˆÙ† Ğ½ÑƒĞ¶Ğ½Ğ° Ø¨Ø´Ø¯Ø©!",
    "Ø·Ø§Ù‚ØªÙƒ Ù…Ø«Ù„ Ø§Ù„Ø«Ù‚Ø¨ Ø§Ù„Ø£Ø³ÙˆØ¯ - ØªÙ…ØªØµ Ø§Ù„Ø­ÙŠØ§Ø© Ù…Ù† Ø§Ù„ØºØ±ÙØ©!",
    "Ù„Ø¯ÙŠÙƒ Ø§Ù„ÙˆØ¬Ù‡ Ø§Ù„Ù…Ø«Ø§Ù„ÙŠ Ù„Ù„Ø¥Ø°Ø§Ø¹Ø©!",
    "Ø£Ù†Øª Ù…Ø«Ù„ Ø§Ø²Ø¯Ø­Ø§Ù… Ø§Ù„Ù…Ø±ÙˆØ± - Ù„Ø§ Ø£Ø­Ø¯ ÙŠØ±ÙŠØ¯ÙƒØŒ ÙˆÙ„ÙƒÙ†Ùƒ Ù‡Ù†Ø§!",
    "Ø£Ù†Øª Ù…Ø«Ù„ Ù‚Ù„Ù… Ø±ØµØ§Øµ Ù…ÙƒØ³ÙˆØ± - Ø¨Ù„Ø§ Ù†Ù‚Ø·Ø©!",
    "Ø£ÙÙƒØ§Ø±Ùƒ Ø£ØµÙ„ÙŠØ© Ø¬Ø¯Ø§Ù‹ØŒ Ø£Ù†Ø§ Ù…ØªØ£ÙƒØ¯ Ø£Ù†Ù†ÙŠ Ø³Ù…Ø¹ØªÙ‡Ø§ Ø¬Ù…ÙŠØ¹Ø§Ù‹ Ù…Ù† Ù‚Ø¨Ù„!",
    "Ø£Ù†Øª Ø¯Ù„ÙŠÙ„ Ø­ÙŠ Ø£Ù† Ø­ØªÙ‰ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ ÙŠÙ…ÙƒÙ† Ø£Ù† ØªÙƒÙˆÙ† Ù…Ù†ØªØ¬Ø©!",
    "Ø£Ù†Øª Ù„Ø³Øª ÙƒØ³ÙˆÙ„Ø§Ù‹ØŒ Ø£Ù†Øª ÙÙ‚Ø· Ù…ØªØ­Ù…Ø³ Ø¨Ø´Ø¯Ø© Ù„Ø¹Ø¯Ù… ÙØ¹Ù„ Ø´ÙŠØ¡!",
    "Ø¯Ù…Ø§ØºÙƒ ÙŠØ¹Ù…Ù„ Ø¨Ù†Ø¸Ø§Ù… Windows 95 - Ø¨Ø·ÙŠØ¡ ÙˆÙ‚Ø¯ÙŠÙ…!",
    "Ø£Ù†Øª Ù…Ø«Ù„ Ù…Ø·Ø¨ Ø³Ø±Ø¹Ø© - Ù„Ø§ Ø£Ø­Ø¯ ÙŠØ­Ø¨ÙƒØŒ ÙˆÙ„ÙƒÙ† Ø§Ù„Ø¬Ù…ÙŠØ¹ must ÙŠØªØ¹Ø§Ù…Ù„ Ù…Ø¹Ùƒ!",
    "Ø£Ù†Øª Ù…Ø«Ù„ Ø³Ø­Ø§Ø¨Ø© Ø§Ù„Ø¨Ø¹ÙˆØ¶ - Ù…Ø²Ø¹Ø¬ ÙÙ‚Ø·!",
    "Ø£Ù†Øª ØªØ¬Ù…Ø¹ Ø§Ù„Ù†Ø§Ø³ Ù…Ø¹Ø§Ù‹... Ù„Ù„ØªØ­Ø¯Ø« Ø¹Ù† Ù…Ø¯Ù‰ Ø¥Ø²Ø¹Ø§Ø¬Ùƒ!"
];

const handler = async (m, { conn, mentioned, sender }) => {
    try {
        let userToInsult;
        
        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù…Ø°ÙƒÙˆØ±
        if (mentioned && mentioned.length > 0) {
            userToInsult = mentioned[0];
        } 
        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªÙŠ ØªÙ… Ø§Ù„Ø±Ø¯ Ø¹Ù„ÙŠÙ‡Ø§
        else if (m.message?.extendedTextMessage?.contextInfo?.participant) {
            userToInsult = m.message.extendedTextMessage.contextInfo.participant;
        }
        
        if (!userToInsult) {
            return await conn.sendMessage(m.chat, {
                text: `â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Œ ÙŠØ±Ø¬Ù‰ Ø°ÙƒØ± Ø´Ø®Øµ Ø£Ùˆ Ø§Ù„Ø±Ø¯ Ø¹Ù„Ù‰ Ø±Ø³Ø§Ù„ØªÙ‡ Ù„Ù„Ø¥Ù‡Ø§Ù†Ø©

ğŸ“ Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…:
â”œâ”€ .insult @user
â”œâ”€ Ø£Ùˆ Ø£Ø±Ø³Ù„ .insult Ù…Ø¹ Ø§Ù„Ø±Ø¯ Ø¹Ù„Ù‰ Ø±Ø³Ø§Ù„Ø©
â””â”€ ÙƒÙ† Ù„Ø·ÙŠÙØ§Ù‹ ÙˆÙ„Ø§ ØªØ³ÙŠØ¡ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù‡Ø°Ù‡ Ø§Ù„Ù…ÙŠØ²Ø©!

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ’¡ Ù…Ø«Ø§Ù„: .insult @username`,
                mentions: [sender]
            }, { quoted: m });
        }

        // Ù…Ù†Ø¹ Ø§Ù„Ø¥Ù‡Ø§Ù†Ø© Ø§Ù„Ø°Ø§ØªÙŠØ©
        if (userToInsult === sender) {
            return await conn.sendMessage(m.chat, {
                text: `â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  âŒ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø°Ù„Ùƒ        â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âš ï¸ Ù„Ø§ ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ù‡Ø§Ù†Ø© Ù†ÙØ³Ùƒ!

ğŸ’¡ Ø­Ø§ÙˆÙ„:
â”œâ”€ Ø°ÙƒØ± Ø´Ø®Øµ Ø¢Ø®Ø±
â”œâ”€ Ø£Ùˆ Ø§Ø·Ù„Ø¨ Ù…Ù† ØµØ¯ÙŠÙ‚ Ø¥Ù‡Ø§Ù†ØªÙƒ
â””â”€ ÙƒÙ† Ù„Ø·ÙŠÙØ§Ù‹ Ù…Ø¹ Ù†ÙØ³Ùƒ!

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ¯ Ø¬Ø±Ø¨ Ù…Ø¹ Ø´Ø®Øµ Ø¢Ø®Ø±`,
                mentions: [sender]
            }, { quoted: m });
        }

        // Ù…Ù†Ø¹ Ø¥Ù‡Ø§Ù†Ø© Ø§Ù„Ø¨ÙˆØª
        if (userToInsult === conn.user.id) {
            return await conn.sendMessage(m.chat, {
                text: `â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  ğŸ¤– Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø¥Ù‡Ø§Ù†ØªÙŠ     â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âš ï¸ Ø£Ù†Ø§ Ù…Ø¬Ø±Ø¯ Ø¨ÙˆØªØŒ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø¥Ù‡Ø§Ù†ØªÙŠ!

ğŸ’¡ Ù„ÙƒÙ† ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ø¥Ù‡Ø§Ù†ØªÙƒ Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Ø°Ù„Ùƒ ğŸ˜‰

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ¯ Ø¬Ø±Ø¨ Ù…Ø¹ Ø´Ø®Øµ Ø¢Ø®Ø±`,
                mentions: [sender]
            }, { quoted: m });
        }

        // Ø±Ø¯ ÙØ¹Ù„
        await conn.sendMessage(m.chat, { 
            react: { text: 'ğŸ˜ˆ', key: m.key } 
        });

        const insult = insults[Math.floor(Math.random() * insults.length)];

        // ØªØ£Ø®ÙŠØ± ØµØºÙŠØ± Ù„ØªØ¬Ù†Ø¨ Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø²Ø§Ø¦Ø¯
        await new Promise(resolve => setTimeout(resolve, 1000));

        await conn.sendMessage(m.chat, {
            text: `â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘     ğŸ˜ˆ Ø¥Ù‡Ø§Ù†Ø© Ù„Ø·ÙŠÙØ©      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¯ Ø§Ù„Ù…Ø³ØªÙ‡Ø¯Ù: @${userToInsult.split('@')[0]}
ğŸ’¬ Ø§Ù„Ø±Ø³Ø§Ù„Ø©: ${insult}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ¤– Crimson Bot | Ø¯Ø¹Ø§Ø¨Ø© Ø¨Ø±ÙŠØ¦Ø©`,
            mentions: [userToInsult]
        }, { quoted: m });

        console.log(`âœ… Insult sent to: ${userToInsult} by: ${sender}`);

    } catch (error) {
        console.error('âŒ Error in insult command:', error);
        
        await conn.sendMessage(m.chat, {
            text: `â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  âŒ ÙØ´Ù„ Ø§Ù„Ø¥Ù‡Ø§Ù†Ø©         â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âš ï¸ ÙØ´Ù„ ÙÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¥Ù‡Ø§Ù†Ø©

ğŸ’¡ Ø§Ù„Ø£Ø³Ø¨Ø§Ø¨ Ø§Ù„Ù…Ø­ØªÙ…Ù„Ø©:
â”œâ”€ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯
â”œâ”€ Ù…Ø´ÙƒÙ„Ø© ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„
â”œâ”€ Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰
â””â”€ Ø±Ø¨Ù…Ø§ ÙŠØ³ØªØ­Ù‚ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø±Ø§Ø­Ø©!

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ”„ Ø¬Ø±Ø¨ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰`,
            mentions: [sender]
        }, { quoted: m });
    }
};

handler.help = ['insult', 'Ø§Ù‡Ø§Ù†Ø©', 'Ø´ØªÙ…'];
handler.tags = ['fun', 'entertainment'];
handler.command = ['insult', 'Ø§Ù‡Ø§Ù†Ø©', 'Ø´ØªÙ…', 'Ø§Ø³Ø§Ø¡Ø©'];
handler.description = 'Ø¥Ø±Ø³Ø§Ù„ Ø¥Ù‡Ø§Ù†Ø© Ù„Ø·ÙŠÙØ© Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù…Ø°ÙƒÙˆØ± (Ø¯Ø¹Ø§Ø¨Ø©)';
handler.usage = '.insult @user';
handler.example = '.insult @username';

handler.group = true;
handler.private = true;
handler.owner = false;
handler.admin = false;
handler.premium = false;
handler.botAdmin = false;

export default handler;
